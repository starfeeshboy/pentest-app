import sys
import socket

def ip_validator(ip):
    ip_split = ip.split('.')
    try:            
        if len(ip_split) != 4:
            sys.exit('Error: IP address given is not a valid length.')
        
        for index in range(len(ip_split)):
            isinstance(int(ip_split[index]),int)
        print('IP validated successfully')
        return True
    except ValueError:
        sys.exit('Error: IP is not valid (Did you accidentally input a letter?')
    

def ip_input():
    ip = input('Please enter an ip address: ')
    return ip

def port_range():
    begin_port = int(input('Please enter the port you would like to start at: '))
    end_port = int(input('Please enter the last port you would like to scan: '))
    return range(begin_port,end_port)

def socket_check(ip,port):
    sock = socket.socket()
    sock.connect((ip, port))

def main():
    ip = ip_input()
    if ip_validator(ip) == True:
        ports = port_range()
        for port_num in ports:
            socket_check(ip,port_num)
    
main()